<!DOCTYPE html>
<html>
<head>
<title>Edit Players</title>
<meta charset="UTF-8">
<style>
body { font-family:Arial; padding:20px; background-color: green;}
button { padding:6px 12px; margin-left:10px; }
.item { background:#f4f4f4; padding:12px; margin:8px; border-radius:8px; }
input { padding:5px; font-size:16px; }
</style>
</head>
<body>

<h1>Edit Players</h1>

<div id="playerList"></div>

<script>
const loggedClub = localStorage.getItem("loggedClub");
const players = JSON.parse(localStorage.getItem("players")) || [];

function loadPlayers() {
    let list = players.filter(p => p.club === loggedClub);
    let container = document.getElementById("playerList");
    container.innerHTML = "";

    list.forEach((p, index) => {
        container.innerHTML += `
            <div class="item">
                <input type="text" id="name${index}" value="${p.name}" />
                <input type="text" id="game${index}" value="${p.game}" />

                <button onclick="save(${index}, '${p.name}')">Save</button>
                <button onclick="removePlayer('${p.name}')">Delete</button>
            </div>
        `;
    });
}

function save(index, oldName) {
    let newName = document.getElementById("name" + index).value;
    let newGame = document.getElementById("game" + index).value;

    let p = players.find(p => p.name === oldName && p.club === loggedClub);

    p.name = newName;
    p.game = newGame;

    localStorage.setItem("players", JSON.stringify(players));
    alert("Player updated!");
    loadPlayers();
}

function removePlayer(name) {
    let filtered = players.filter(p => !(p.name === name && p.club === loggedClub));

    localStorage.setItem("players", JSON.stringify(filtered));
    alert("Player removed!");
    window.location.reload();
}

loadPlayers();
</script>

</body>
</html>
